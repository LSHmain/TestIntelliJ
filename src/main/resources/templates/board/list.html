<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>


<!-- 조건추가 -->
<form th:action="@{/board/list.do}" method="get" id="searchForm">
    <div class="input-group">
        <input type="hidden" name="page" th:value="${pageInfo.page}">
        <input type="hidden" name="size" th:value="${pageInfo.size}">
        <div class="input-group-prepend">
            <select class="custom-select" name="type">
                <option value="t" th:selected="${pageInfo.type=='t'}">제목</option>
                <option value="c" th:selected="${pageInfo.type=='c'}">내용</option>
                <option value="w" th:selected="${pageInfo.type=='w'}">작성자</option>
                <option value="tc" th:selected="${pageInfo.type=='tc'}">제목+내용</option>
                <option value="tcw" th:selected="${pageInfo.type=='tcw'}">제목+내용+작성자</option>
            </select>
            <input class="form-control" name="keyword" th:value="${pageInfo.keyword}"/>
        </div>
        <div class="input-group-prepend" id="button-addon4">
            <button type="submit" class="btn btn-outline-secondary btn-search">Search</button>
            <button type="reset" class="btn btn-outline-secondary btn-clear">Clear</button>
        </div>
    </div>
</form>

<th:block th:fragment="content2">
    <table>
        <thead>
        <tr>
            <th>bno</th>
            <th>title</th>
            <th>writer</th>
            <th>content</th>
            <th>regDate</th>
            <th>modDate</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="board : ${boardList.dtoList}">
            <td>[[${board.bno}]]</td>
            <td>[[${board.title}]]</td>
            <td>[[${board.writer}]]</td>
            <td>[[${board.content}]]</td>
            <td>[[${#temporals.format(board.regDate, 'yyyy-MM-dd HH:mm')}]]</td>
            <td>[[${#temporals.format(board.modDate, 'yyyy-MM-dd HH:mm')}]]</td>
        </tr>
        </tbody>
    </table>
    <p>페이지정보: [[${pageInfo}]]</p>
    <p></p>
</th:block>

<ul class="pagination h-100 justify-content-center align-items-center">
    <li class="page-item" th:if="${boardList.prev}">
        <a
                class="page-link"
                th:href="
                @{/board/list.do(page=${boardList.start-1}
                , size=${pageInfo.size}
                , type=${pageInfo.type}
                , keyword=${pageInfo.keyword})}" tabindex="-1">
            Previos
        </a>
    </li>
    <li class=" 'page-item ' + ${boardList.page==page?'active':''}"
        th:each="page:${boardList.pageList}">
        <a class="page-link"
           th:href="
           @{/board/list.do(page=${page}
           , size=${pageInfo.size}
           , type=${pageInfo.type}
           , keyword=${pageInfo.keyword})}" tabindex="-1">
            [[${page}]]페이지
        </a>
    </li>
    <li class="page-item" th:if="${boardList.next}">
        <a
                class="page-link"
                th:href="
                @{/board/list.do(page=${boardList.end+1}
                , size=${pageInfo.size}
                , type=${pageInfo.type}
                , keyword=${pageInfo.keyword})}">Next
        </a>
    </li>
</ul>


</body>
</html>
